<html>
<head>
<title>Glue Internals</title>
</head>
<body>
  <h1>Glue: Internals</h1>
  <h2>Front-End</h2>
  <h2>Back-End</h2>
  <p>Glue is hosted on an Amazon EC2 instance that can be accessed by sshing in with the command ssh root@glue-app.info -i key.pem, assuming that you've been issued the root user's key and it is in the working directory. The back-end is currently running on Apache 2.2.15 as configured in the last Virtual Host in /etc/httpd/conf/httpd.conf using an adapter located at /var/www/glue/adapter.wsgi.</p>
<p>Apache looks in /var/www/glue for all relevant files. The back-end code is located at /var/www/glue/glue.py and all data is stored in three json flat files: /var/www/glue/events.json, /var/www/glue/users.json, and /var/www/glue/auth.json. /var/www/glue/API documents all the public methods available to clients, the parameters they take, what they return, and what side-effects they have on the server state.</p>
<p>The server-side code is written in Python using the Bottle microframework, which essentially allows us to write functions to handle every supported request by attaching functions to routes. We also use Bottle to access GET parameters. For documentation and instructions on how to install Bottle, check <a href="http://bottlepy.org/docs/dev/tutorial.html">this</a> out.</p>
<p>Since all data is stored in flat files as json objects, it is quite literally a dictionary of id to object mappings, so any user can be accessed by users[userid] where users = json.loads(open('users.json', 'r').read()). Helper functions for _like(a, b) and _starts_with(a, b) exist if you ever need to perform SQL-like queries as in the search_users method.</p>
<p>[<a href="API2.html">API documentation</a>] [Link to a document about authentication]</p>
</body>
</html>
